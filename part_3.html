<!DOCTYPE HTML>
<html lang="en">
  <head>
	<title>Getting started with Love2d - part 3</title>
		<meta charset="UTF-8">
		<meta content="love2d step by step" name="description">
	    <meta content="love2d,How to,lua,platformer,game" name="keywords">
	    <meta content="Chris Nichols" name="author">
  </head>
  <article>
      <section id="introduction">
          <header>
              <h2>Introduction</h2>
          </header>
          <p>
              This is part 3 of my ongoing series on making a simple platformer using Love2d.<br>
              For this part we are going to continue our adventure into OOP and further improve our code.<br>
              We will make a dedicated player class,start doing some polymorphism, and create some more enemies.<br>
          </p>
      </section>
      <section id="folder">
          <header>
              <h2>get organized</h2>
          </header>
          <p>
              The first thing we will do is get better organized.<br>
              In the directory where main.lua is, make a new directory named 'images'<br>
              We will now put our character images here to help keep us organized.<br>
              In the code where we load images, we need to change 'player.png' to '/images/player.png'<br>
              Do the same for the enemy image as well.
          </p>
      </section>
      <section id="player_class">
          <header>
              <h2>making a player class</h2>
          </header>
          <p>
              The next thing we need to do is create a player class. this is identical to how we made an <a id="enemy_class" rel="external" target="_blank" href="https://lacklustergames.blogspot.com/2020/08/simple-platformer-part-2.html#ImproveOOP" >enemy class</a><br>
              So far we have no unique variables or functions for player but we will change that later on.
          </p>
          <figure id="player">
            <img alt="Player class" border="0" data-original-height="147" data-original-width="543" src="https://1.bp.blogspot.com/-0C2_NAzUlgg/X0ga_CLnawI/AAAAAAAADos/MsWd1Z-5C5w9H-8vPsHPFm22OiIdlCBGwCLcBGAsYHQ/s0/character_1.png"/>
              <figcaption>player class</figcaption>
          </figure>
          <p>
            Now that we have a player class we need a constructor functions.<br>
            This is also similar to what we did with enemy class.
          </p>
          <figure id="player_constructor">
            <img alt="constructor for player objects" border="0" data-original-height="82" data-original-width="374" src="https://1.bp.blogspot.com/-J2okVxwjicc/X0gbLqphn6I/AAAAAAAADow/POQfnzXPIXAU-XnomD9TI6SqZQDBkgs-ACLcBGAsYHQ/s0/character_2.png"/>
              <figcaption>player constructor</figcaption>
          </figure>
          <p> We now need to change one line in main.lua to make player a <code>PLAYER</code> object.</p>
          <figure id="main_1">
            <img alt="updates love.load()" border="0" data-original-height="99" data-original-width="469" src="https://1.bp.blogspot.com/-jLJ_hDWnGfo/X0gg5KD62iI/AAAAAAAADqE/jZWGgqqqDu0Uera94J55IEz4Ls45uzMEgCLcBGAsYHQ/s0/code_1.png"/>
              <figcaption>making player object in main.lua</figcaption>
          </figure>
          <p>We now have a working separate class for our player</p>
      </section>
      <section id="multiple_enemy">
          <header>
              <h2>Making multiple enemies</h2>
          </header>
          <p>
              We will now make multiple enemies in our game.<br>
              To easily handle this we are going to create a table to hold enemy objects.<br>
              And to make this even easier, we make a function to populate this list for us.<br>
              So we have <code>ENEMY_LIST</code> to hold our enemies and <code>makeEnemies()</code> to populate our table with enemy objects<br>
          <figure id="main_3">
            <img alt="tabel to hold multiple enemy objects." border="0" data-original-height="214" data-original-width="550" src="https://1.bp.blogspot.com/-TI16A0-FNho/X0gbg1MPY-I/AAAAAAAADo8/DbMZ7-kha5cWanyZVG-cJV6GpwnL23XIgCLcBGAsYHQ/s0/code_3.png"/>
              <figcaption>making list of enemies</figcaption>
          </figure>
          <p>
            We now have multiple enemies in our game. this can easily be expanded to make as many as we want.<br>
            Notice that the <code>i*100</code> in our function just places the enemies 100 pixels a part.<br>
            Also notice that the <code>WIDTH</code> has been increased to accomodate these new enemies.
          </p>
      </section>
      <section id="draw_character">
          <header>
              <h2>Drawing characters</h2>
          </header>
          <p>
              We will now go further with our OOP adventure.<br>
              To do this we need to create a function to draw character objects to screen.<br>
              Since both player and enemy are subclasses of character, this function will work for both of them.<br>
              Hurray for polymorphism.
          </p>
          <figure id="character_3">
            <img alt="function to draw character to screen" border="0" data-original-height="52" data-original-width="414" src="https://1.bp.blogspot.com/-L3JxE-WGzMM/X0gbtxKCuKI/AAAAAAAADpA/WWZi2o4t2-MxSo3IrQ3OP_F1L4JEVFS8ACLcBGAsYHQ/s0/character_3.png"/>
              <figcaption>function to draw character objects to screen</figcaption>
          </figure>
          <p>
              We now need to make a function to go through enemy_list and print each enemy to screen.<br>
              To accomplish this we just need a loop to go through enemy_list, pretty simple stuff.<br>
              Notice we make use of our newly made <code>draw</code> function.
              
          </p>
              <figure id="main_4">
                <img alt="loop through enemy_list and draw each enemy to screen" border="0" data-original-height="103" data-original-width="373" src="https://1.bp.blogspot.com/-WoDV3S4AATQ/X0gdStHmrPI/AAAAAAAADpc/nuAqZ7OhPEo9yTW7GW7mn0aZsh_CwiaUgCLcBGAsYHQ/s0/code_4.png"/>
                  <figcaption>function to draw enemies to screen</figcaption>
              </figure>
              <p>
                Now that we have our function to draw objects to screen and a loop to go through each enemy, we need to update <code>love.draw()</code>.<br>
                With just these two lines we can now print both the player and all the enemies to screen on each frame.
              </p>
              <figure id="code_5">
               <img alt="updated love.draw()" border="0" data-original-height="66" data-original-width="214" src="https://1.bp.blogspot.com/-947SXVqzUGE/X0gfhJxOeTI/AAAAAAAADpo/Ui_1kkwE4eE4meaq3IUaZDs7lFcWFymSQCLcBGAsYHQ/s0/code_5.png"/>
                  <figcaption>updated our love.draw() function</figcaption>
              </figure>
              <p>
                We now have the capability to print a player and any number of enemies to screen.<br>
                so far the enemies don't do anything, but we are about to change that.
              </p>
      </section>
        <section id="moving_enemies">
            <header>
                <h2>Moving Enemeis</h2>
            </header>
            <p>
                We will now make our enemies move back and forth as we previously did with a single enemy.<br>
                To do this we need a function to go through <code>ENEMY_LIST</code>. <br>
                With each enemy object in the loop we call the move function which we <a id="enemy_move" rel="external" target="_blank" href="https://lacklustergames.blogspot.com/2020/08/simple-platformer-part-2.html#moving_enemy">previous made</a>
            </p>
            <figure id="code_6">
              <img alt="function to move enemies" border="0" data-original-height="84" data-original-width="365" src="https://1.bp.blogspot.com/-WQPyYYtGpig/X0gfqwv33xI/AAAAAAAADps/ZniwD6K-lFw5eDqbnZxkzr8J2FzwkG4oQCLcBGAsYHQ/s0/code_6.png"/>
                <figcaption>function to move each enemy on screen</figcaption>
            </figure>
            <p>
                We now need to update our code in <code>love.update</code> to call this new function.
            </p>
            <figure id="code_7">
              <img alt="updated love.update()" border="0" data-original-height="48" data-original-width="224" src="https://1.bp.blogspot.com/-YdEGO3CQ0MM/X0gf18OAgZI/AAAAAAAADp0/swlRtpOGq-0As-KE9irsS-NXRN7sBt3XgCLcBGAsYHQ/s0/code_7.png"/>
                <figcaption>updated love.update()</figcaption>
            </figure>
          <p> we should now have three enemies moving across the screen and a player who can also move around</p>
          <figure id="gif">
            
            <figcaption>Enemies moving around</figcaption>
          </figure>
        </section>
        <section id="final">
            <header>
                <h2>Final remarks</h2>
            </header>
            <p>
                With just a little bit of reorganizing and adding a tiny bit to our previous code we can now:
          </p>
                <ul>
                    <li>make multiple enemies in our game.</li>
                    <li>print them all to screen.</li>
                    <li>have each enemy move independent of each other.</li>
                </ul>
          <p>
                It may not seem much, but it is progress we are making on our game.<br>
                The full code for this part is available <a id="github" rel="external" target="_blank" href="">on github</a><br>
                Thank you for checking out part 3 of my series on game dev.
            </p>
        </section>
  </article>
</html>

